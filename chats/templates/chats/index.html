{% extends 'main.html' %} {% load static %} {% block content %}
<!--  -->

<!-- ---------------------------objs and contacts sidebar--------------------------------->
<div class="mx-auto p-6 bg-gray-100 border border-2 rounded-md">
  <div>
    <h1 class="mb-2 text-black text-xl font-bold">
      Rejoindre une conversation
    </h1>
    <form id="search_box" class="w-full max-w-xl flex flex-row justify-between">
      <input
        type="text"
        name="query"
        id="querier"
        class="px-4 py-2 bg-white text-black w-full rounded-l-md outline-none"
        placeholder="Recherchez..."
      />
      <button
        class="group px-4 py-2 text-sm bg-purple-950 hover:bg-amber-200 text-white hover:text-black rounded-r-md transition duration-300 ease-in-out"
        type="submit"
      >
        <i class="fa-solid fa-magnifying-glass"></i>
      </button>
    </form>

    <div class="mt-4 flex flex-row flex-wrap gap-4">
      {% if not contacts %}

      <!--------------------------------------- No data placeholder --------------------------------------->
      <div class="p-8 my-40 w-full mx-auto rounded-md flex-col text-center">
        <i class="fa-regular fa-folder-open text-7xl"></i>
        <p class="mt-4">
          Aucun contact du nom de {{query}} disponible pour le moment
        </p>
      </div>

      {% else %}
      <!--  -->
      {% for obj in contacts %}
      <div
        class="contact-li p-6 border hover:border-purple-700 h-full w-60 flex flex-col items-center text-center gap-2 bg-white hover:shadow-md rounded-md"
        chat-id="chat_{{obj.id}}"
      >
        <a href="{% url 'chat_page' obj.id %}" class="mx-auto">
          <img
            class="hidden lg:block w-20 h-20 rounded-full mx-auto"
            src="{% static 'imgs/rand.webp' %}"
            alt="Rounded avatar"
          />
          <p class="text-purple-950 font-bold">@{{obj.username}}</p>
          <p>{{obj.email}}</p>
        </a>
      </div>
      {% endfor %}
      <!--  -->
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
